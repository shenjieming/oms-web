<div class="row">
    <div class="col-lg-12 row-mt-8">
        <div class="main-box clearfix">

            <div role="tabpanel" class="tab-pane active" ng-slide="Integrated.IsQuery" style="display:none;">
                <div class="row-fluid">
                    <div class="widget-box" style="margin-top:0px;border:0px;">
                        <div class="widget-title bg_ly">
                            <h5 data-toggle="collapse" ng-click="Integrated.IsQuery=!Integrated.IsQuery">订单高级查询</h5>
                        </div>
                        <div id="Inquirea" class="widget-content nopadding collapse in" style="border:0px;">
                            <div class="control-group ">
                                <div class="Vessel" style="width:60%;">
                                    <span class="Text">下单日期：</span>
                                    <span class="Left" ng-show-data="" ng-model="Pagein.createDateBegin"></span>
                                    <div class="Text"> 至</div>
                                    <span class="Left" ng-show-data="" ng-model="Pagein.createDateEnd"></span>
                                </div>
                                <div class="Vessel Others ">
                                    <span class="btn-group oms-btn-group Right">
                                        <a class="btn btn-primary" ng-click="Integrated.QueryOrderList()"><i class="fa fa-search"></i> 查询</a>
                                        <a class="btn btn-primary" ng-click="Integrated.ClearWhere()"><i class=" fa fa-align-justify"></i> 返回</a>
                                    </span>
                                </div>
                            </div>
                            
                            
                            <div class="control-group" ng-if="User.userInfo.orgType=='WH'">
                                <div class="Vessel ">
                                    订单：<input type="text" ng-model="Pagein.sONo" placeholder="请输入订单号" style="width:180px" />
                                </div>
                                <div class="Vessel">
                                    货主：
                                    <select ng-model="Pagein.oIOrgCode" style="margin-left:-8px;min-width:180px;">
                                        <option value="">请选择货主...</option>
                                        <option ng-repeat="item in SelectInfo.OIorg.dic" value="{{item.id}}">{{item.text}}</option>
                                    </select>
                                </div>
                                <div class="Vessel">
                                    经销商：
                                    <select ng-model="Pagein.sOCreateByOrgCode" style="margin-left:-8px;min-width:180px">
                                        <option value="">请选择经销商...</option>
                                        <option ng-repeat="item in SelectInfo.DLorg.dic" value="{{item.orgCode}}">{{item.dLName}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="control-group" ng-if="User.userInfo.orgType=='WH'">
                                <div class="Vessel  ">
                                    医院：
                                    <select ng-model="Pagein.hPCode" ng-change="SelectInfo.Hosptail.change()" style="margin-left:-8px;min-width:180px">
                                        <option value="">请选择医院...</option>
                                        <option ng-repeat="item in SelectInfo.Hosptail.dic" value="{{item.hPCode}}">{{item.hPName}}</option>
                                    </select>
                                </div>
                                <div class="Vessel  ">
                                    状态：
                                    <select ng-model="Pagein.status" style="margin-left: -8px; min-width:180px">
                                        <option value="">
                                            请选择订单状态...
                                        </option>
                                        <option ng-repeat="item in SelectInfo.Status.dic" selected="{{item.id}}" value="{{item.id}}">{{item.text}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <header class="main-box-header clearfix" ng-slide="!Integrated.IsQuery">
                <h2 class="pull-left">{{title}}</h2>
                <div style="margin-top:25px">
                    <span class="btn-group oms-btn-group" style="float:right">
                        <!--<a class="btn btn-primary" ng-click="addSurgery()" ng-if="User.userInfo.orgType=='DL'&&!competence.approval&&!Competence.back&&!Competence.dealwith&&!Competence.approval&&!Competence.append"> <i class="fa fa-pencil"></i> 手术下单</a>
                        <a class="btn btn-primary" ng-click="editSurgery()" ng-if="competence.modify"> <i class="fa fa-clipboard"></i> 手术修改</a>
                        <a class="btn btn-primary" ng-click="editSurgery()" ng-if="Competence.submit"><i class="fa fa-check"></i>订单提交</a>
                        <a class="btn btn-primary" ng-click="ApprovalSurgery()" ng-if="Competence.approval"><i class="fa fa-eye"></i>订单审批</a>
                        <a class="btn btn-primary" ng-click="SignSurgery()" ng-if="Competence.sign"><i class="fa fa-pencil-square-o"></i>订单签收</a>
                        <a class="btn btn-primary" ng-click="DealSurgeryOnline()" ng-if="Competence.dealwith"><i class="fa fa-wrench"></i>线上处理</a>
                        <a class="btn btn-primary" ng-click="DealSurgeryOffline()" ng-if="Competence.dealwith"><i class="fa fa-wrench"></i>线下处理</a>
                        <a class="btn btn-primary" ng-click="ApplyBack()" ng-if="Competence.apply"><i class="fa fa-steam"></i>返库申请</a>
                        <a class="btn btn-primary" ng-click="OrderBack()" ng-if="Competence.back"><i class="fa fa-legal"></i>返库处理</a>
                        <a class="btn btn-primary" ng-click="Additional()" ng-if="Competence.append"> <i class="fa fa-shopping-cart"></i>追加配货</a>-->
                        <a class="btn btn-primary" ng-if="User.userInfo.orgType=='WH'&&Competence.Print" href={{PrintPath}} target="_blank"><i class="fa fa-print"></i> 出库单打印</a>
                        <a class="btn btn-primary" ng-click="OrderDelivery()" ng-if="Competence.shipped"><i class="medlog-font-s medlog-icon-peihuo" style="font-size:14px;-webkit-text-stroke-width: 0px;font-weight: bold "></i> 发货</a>
                        <a class="btn btn-primary" ng-click="OutboundDelivery()" ng-if="Competence.shipped"><i class="medlog-font-s medlog-icon-peihuo" style="font-size:14px;-webkit-text-stroke-width: 0px;font-weight: bold "></i> 出库单发货</a>
                        <a class="btn btn-primary" ng-click="HighSearch()"><i class="fa fa-search"></i> 高级查询</a>
                        <a class="btn btn-primary" ng-click="showdeliveryView()"><i class="fa fa-align-justify"></i> 订单详情</a>
                    </span>
                    <div class="input-group" style="float: right; width: 250px; margin-right: 10px">
                        <input type="text" class="form-control" placeholder="请输入订单号"
                               style="padding:8px;" ng-model="Pagein.sONo" ng-keyup="Integrated.Enter($event)">
                        <a class="input-group-addon" href="javascript:void(0)" ng-click="Integrated.QueryOrderList()"><i class="fa fa-search"></i></a>
                    </div>
                    <span ng-neardata="Integrated.DataQuery" style="float: right; margin-right: 20px;"></span>
                </div>
            </header>
            <div class="main-box-body clearfix">
                <div class="table-responsive list-box">
                    <table class="table table-bordered table-striped" st-table="Integrated.OrderList">
                        <thead>
                            <tr>
                                <th><span>序号</span></th>
                                <th><span>订单号</span></th>
                                <th  width="120px"><span>货主</span></th>
                                <th  width="120px"><span>经销商</span></th>
                                <th><span style="width:100px">医院</span></th>
                                <th ><span>医生</span></th>
                                <th><span>手术日期</span></th>
                                <th  style="width: 200px;"><span>产品线</span></th>
                                <th><span>下单人</span></th>
                                <th><span>下单日期</span></th>
                                <th><span>状态</span></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="row in Integrated.OrderList" st-select-row="row" class="ng-scope ng-isolate-scope st-selected" ng-dblclick="showView(row.sONo)">
                                <td>{{$index+1}}</td>
                                <td>
                                    {{row.sONo}}
                                </td>
                                <td >
                                    {{row.oIOrgCodeName}}
                                </td>
                                <td>
                                    {{row.dLOrgCodeName}}
                                </td>
                                <td>
                                    {{row.hPCodeName}}
                                </td>
                                <td >
                                    {{row.dTCodeName}}
                                </td>
                                <td>
                                    {{row.operationDate}}
                                </td>
                                <td>
                                    {{row.medProdLnCodeName}}
                                </td>
                                <td>
                                    {{row.sOCreateByName}}
                                </td>
                                <td>
                                    {{row.createDate}}
                                </td>
                                <td>
                                    <span ng-class="(row.status=='SOSTS00200'||row.status=='SOSTS00040')?'red':''">{{row.statusName}}</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div ng-pagein="page" ng-model="Pagein"></div>
            </div>
        </div>
    </div>
</div>